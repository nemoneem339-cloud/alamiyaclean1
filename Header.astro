---
/**
 * Header Component
 * =================
 * شريط التنقل العلوي
 * القائمة المتحركة تعمل بـ CSS فقط (بدون JavaScript)
 * 
 * للتعديل: عدّل navLinks في src/data/siteInfo.ts
 */

import { company, navLinks } from '../data/siteInfo';

const currentPath = Astro.url.pathname;
---

<!-- Top Bar - Single Flex Container -->
<div class="bg-primary text-white text-xs font-medium">
  <div class="container mx-auto px-4 h-9 flex items-center justify-between gap-4">
    
    <!-- Phone (Always visible) -->
    <a href={`tel:${company.phone}`} class="flex items-center gap-1.5 hover:opacity-80 transition-opacity">
      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="shrink-0"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
      <span dir="ltr">{company.phone}</span>
    </a>
    
    <!-- Email (Desktop only) -->
    <a href={`mailto:${company.email}`} class="hidden md:flex items-center gap-1.5 hover:opacity-80 transition-opacity">
      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="shrink-0"><rect width="20" height="16" x="2" y="4" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></svg>
      <span>{company.email}</span>
    </a>
    
    <!-- City (Large screens only) -->
    <span class="hidden lg:block">{company.city} - خدمة 24 ساعة</span>
    
    <!-- Spacer to push social icons to the left -->
    <div class="flex-1"></div>
    
    <!-- Social Icons -->
    <a href={company.facebook} target="_blank" rel="noopener noreferrer" aria-label="فيسبوك" class="flex items-center justify-center w-6 h-6 hover:text-secondary transition-colors">
      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/></svg>
    </a>
    <a href={company.twitter} target="_blank" rel="noopener noreferrer" aria-label="تويتر" class="flex items-center justify-center w-6 h-6 hover:text-secondary transition-colors">
      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"/></svg>
    </a>
    <a href={company.instagram} target="_blank" rel="noopener noreferrer" aria-label="انستقرام" class="flex items-center justify-center w-6 h-6 hover:text-secondary transition-colors">
      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect width="20" height="20" x="2" y="2" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" x2="17.51" y1="6.5" y2="6.5"/></svg>
    </a>
  </div>
</div>

<!-- Main Header -->
<header class="sticky top-0 z-40 bg-white/95 backdrop-blur-md shadow-sm border-b border-gray-100">
  <div class="container mx-auto px-4 py-4 flex justify-between items-center">
    
    <!-- Logo -->
    <a href="/" class="flex items-center gap-3 group" aria-label="العالمية كلين - الصفحة الرئيسية">
      <img 
        src="/images/logo.png" 
        alt="شعار العالمية كلين" 
        class="h-12 w-auto"
      />
      <div class="flex flex-col">
        <span class="text-xl font-heading font-bold text-primary leading-none">العالمية</span>
        <span class="text-xs text-secondary font-bold tracking-wider">CLEAN</span>
      </div>
    </a>

    <!-- Desktop Nav -->
    <nav class="hidden md:flex items-center gap-8">
      {navLinks.map((link) => (
        <a
          href={link.path}
          class={`text-sm font-bold transition-all relative py-1 ${
            currentPath === link.path 
              ? 'text-primary after:absolute after:bottom-0 after:left-0 after:w-full after:h-0.5 after:bg-secondary after:rounded-full' 
              : 'text-gray-600 hover:text-primary'
          }`}
        >
          {link.name}
        </a>
      ))}
    </nav>

    <!-- Desktop CTA -->
    <a href="/contact" class="hidden md:block bg-secondary hover:bg-cyan-600 text-white px-6 py-2.5 rounded-xl font-bold shadow-lg shadow-cyan-500/30 transition-all hover:scale-105 active:scale-95">
      احجز الآن
    </a>

    <!-- Mobile Menu (CSS Only) -->
    <label for="mobile-menu" class="md:hidden cursor-pointer text-gray-800 menu-icon">
      <span class="icon-open">
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg>
      </span>
      <span class="icon-close">
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>
      </span>
    </label>
  </div>
  
  <!-- Mobile Menu Dropdown -->
  <input type="checkbox" id="mobile-menu" class="mobile-menu-toggle hidden" />
  <nav class="mobile-menu md:hidden bg-white border-t border-gray-100">
    <div class="flex flex-col p-6 gap-4">
      {navLinks.map((link) => (
        <a
          href={link.path}
          class={`text-lg font-bold ${currentPath === link.path ? 'text-secondary' : 'text-gray-700 hover:text-primary'}`}
        >
          {link.name}
        </a>
      ))}
      <a href="/contact" class="mt-4 w-full bg-primary text-white py-3 rounded-xl text-center font-bold shadow-lg">
        طلب خدمة
      </a>
    </div>
  </nav>
</header>
